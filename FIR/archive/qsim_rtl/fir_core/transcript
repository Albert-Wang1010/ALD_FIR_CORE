# //  ModelSim DE 2024.2 May 20 2024 Linux 4.18.0-553.89.1.el8_10.x86_64
# //
# // Unpublished work. Copyright 2024 Siemens
# //
# // This material contains trade secrets or otherwise confidential information
# // owned by Siemens Industry Software Inc. or its affiliates (collectively,
# // "SISW"), or its licensors. Access to and use of this information is strictly
# // limited as set forth in the Customer's applicable agreements with SISW.
# //
# // This material may not be copied, distributed, or otherwise disclosed outside
# // of the Customer's facilities without the express written permission of SISW,
# // and may not be used in any way not expressly authorized by SISW.
# //
# do runsim.do
# ** Warning: (vlib-34) Library already exists at "work".
# Errors: 0, Warnings: 1
# Model Technology ModelSim DE vmap 2024.2 Lib Mapping Utility 2024.05 May 20 2024
# vmap work work 
# Modifying modelsim.ini
# Model Technology ModelSim DE vlog 2024.2 Compiler 2024.05 May 20 2024
# Start time: 18:01:53 on Dec 17,2025
# vlog -reportprogress 300 "+acc" -incr ../../rtl/fir_core/fir_core.v 
# -- Skipping module fir_core
# -- Skipping module fir_fsm
# -- Skipping module fir_alu
# -- Skipping module cmem
# -- Skipping module regfile
# -- Skipping module fir_fifo
# 
# Top level modules:
# 	fir_core
# End time: 18:01:55 on Dec 17,2025, Elapsed time: 0:00:02
# Errors: 0, Warnings: 0
# Model Technology ModelSim DE vlog 2024.2 Compiler 2024.05 May 20 2024
# Start time: 18:01:55 on Dec 17,2025
# vlog -reportprogress 300 "+acc" -incr test_fir_core.v 
# -- Skipping module testbench
# 
# Top level modules:
# 	testbench
# End time: 18:01:58 on Dec 17,2025, Elapsed time: 0:00:03
# Errors: 0, Warnings: 0
# ** Warning: (vsim-8690) Ignoring plusarg '+acc' with -novopt in effect.
# vsim "+acc" -t ps -lib work testbench 
# Start time: 18:01:58 on Dec 17,2025
# Loading work.testbench
# Loading work.fir_core
# Loading work.fir_fifo
# Loading work.cmem
# Loading work.regfile
# Loading work.fir_alu
# Loading work.fir_fsm
# ** UI-Msg (Warning): (vish-4014) No objects found matching '/testbench/dut/fifo_wen'.
# Executing ONERROR command at macro ./waveformat.do line 57
# ** UI-Msg (Warning): (vish-4014) No objects found matching '/testbench/dut/fifo_din'.
# Executing ONERROR command at macro ./waveformat.do line 58
# ** UI-Msg (Warning): (vish-4014) No objects found matching '/testbench/dut/u_fsm/read_pointer'.
# Executing ONERROR command at macro ./waveformat.do line 69
# 
# ========================================
# FIR Core Comprehensive Testbench
# ========================================
# NUM_TAPS: 64
# clk1: 10 kHz, clk2: 100 MHz
# ========================================
# 
# [0 ns] Reset...
# [200000 ns] Reset complete
# 
# ========================================
# TEST 1: Coefficient Loading
# ========================================
# Loaded coefficients: 0x0100
# TEST 1: PASSED (coefficients loaded)
# 
# ========================================
# TEST 2: Zero Input
# ========================================
# Output = 0x0000 (0)
# TEST 2: PASSED
# 
# ========================================
# TEST 3: DC Response (64 samples)
# ========================================
# Loaded coefficients: 0x0100
# Sending 70 samples of 0x1000...
#   Sample[ 0]: output = 0x0000 (0)
#   Sample[ 1]: output = 0x0001 (1)
#   ...
#   Sample[63]: output = 0x0020 (32)
#   Sample[64]: output = 0x0020 (32)
#   Sample[69]: output = 0x0020 (32)
# TEST 3: PASSED (output = 32, expected ~32)
# 
# ========================================
# TEST 4: Impulse Response
# ========================================
# Loaded coefficients: 0x1000
# Filling filter with 70 impulses (0x7FFF)...
#   Sample[ 0]: output = 0x0200 (512)
#   Sample[ 1]: output = 0x0238 (568)
#   ...
#   Sample[63]: output = 0x1000 (4096)
#   Sample[64]: output = 0x1000 (4096)
#   Sample[69]: output = 0x1000 (4096)
# TEST 4: PASSED (output = 4096, expected ~4095)
# 
# ========================================
# TEST 5: Alternating +/- Input
# ========================================
# Loaded coefficients: 0x0100
# Sending 70 alternating samples (+0x2000/-0x2000)...
#   Sample[ 0]: output = 0x0100 (256)
#   Sample[ 1]: output = 0x00fd (253)
#   Sample[ 2]: output = 0x00f8 (248)
#   ...
#   Sample[62]: output = 0x0008 (8)
#   Sample[63]: output = 0x0002 (2)
#   Sample[64]: output = 0xfffd (-3)
#   Sample[65]: output = 0x0002 (2)
#   Sample[66]: output = 0xfffd (-3)
#   Sample[68]: output = 0xfffd (-3)
#   Sample[69]: output = 0x0002 (2)
# TEST 5: PASSED (output = 2, expected ~0)
# 
# ========================================
# TEST 6: Step Response
# ========================================
# Loaded coefficients: 0x0100
# Filling with 0x0800 (50 samples)...
#   Stabilized at: 0x000d (13)
#   Low value correct (expected ~13)
# Stepping to 0x3000 (65 samples)...
#   Sample[ 0]: output = 0x000b (11)
#   Sample[ 1]: output = 0x000f (15)
#   ...
#   Sample[31]: output = 0x0037 (55)
#   Sample[63]: output = 0x0060 (96)
#   Sample[64]: output = 0x0060 (96)
# TEST 6: PASSED (output = 96, expected ~96)
# 
# ========================================
# TEST 7: Positive Saturation
# ========================================
# Flushing filter (70 zeros)...
# Loaded coefficients: 0x0100
# Loaded coefficients: 0x7fff
# Sending 70 max positive samples (0x7FFF)...
#   Sample[ 0]: output = 0x0000 (0)
#   Sample[ 1]: output = 0x0200 (512)
#   ...
#   Sample[63]: output = 0x7ffe (32766)
#   Sample[64]: output = 0x7ffe (32766)
#   Sample[69]: output = 0x7ffe (32766)
# TEST 7: PASSED (output = 32766, expected 32766-32767)
# 
# ========================================
# TEST 8: Negative Saturation
# ========================================
# Flushing filter (70 zeros)...
# Loaded coefficients: 0x0100
# Loaded coefficients: 0x7fff
# Sending 70 max negative samples (0x8000)...
#   Sample[ 0]: output = 0x0000 (0)
#   Sample[ 1]: output = 0xfdff (-513)
#   ...
#   Sample[63]: output = 0x8000 (-32768)
#   Sample[64]: output = 0x8000 (-32768)
#   Sample[69]: output = 0x8000 (-32768)
# TEST 8: PASSED (output = -32768, expected -32768 to -32766)
# 
# ========================================
# TEST 9: Mixed Sign Response
# ========================================
# Flushing filter (70 zeros)...
# Loaded coefficients: 0x0100
# Loaded coefficients: 0x0200
# Sending pattern: [+0x4000, -0x2000] repeated...
#   Sample[ 0]: output = 0x0000 (0)
#   Sample[ 1]: output = 0x0004 (4)
#   ...
#   Sample[63]: output = 0x0046 (70)
#   Sample[64]: output = 0x003a (58)
#   Sample[69]: output = 0x0046 (70)
# TEST 9: PASSED (output = 70, expected ~64)
# 
# ========================================
# TEST 10: Zero Flush Verification
# ========================================
# Loaded coefficients: 0x0100
# Sending 80 zeros to verify filter clears...
#   Sample[ 0]: output = 0x001d (flushing)
#   Sample[ 1]: output = 0x0021 (flushing)
#   ...
#   Sample[63]: output = 0x0000 (flushing)
#   Sample[64]: output = 0x0000 (0)
#   ...
#   Sample[79]: output = 0x0000 (0)
# TEST 10: PASSED (filter cleared after 64+ samples)
# 
# 
# ========================================
# COMPREHENSIVE TEST SUMMARY
# ========================================
# Total Tests: 10
# Passed: 10
# Failed: 0
# ========================================
# 
# *** ALL TESTS PASSED ***
# 
# Simulation completed at 165151805000 ns
# 
# ** Note: $finish    : test_fir_core.v(546)
#    Time: 165161805 ns  Iteration: 0  Instance: /testbench
# 1
# Break in Module testbench at test_fir_core.v line 546
# End time: 18:22:49 on Dec 17,2025, Elapsed time: 0:20:51
# Errors: 0, Warnings: 1
